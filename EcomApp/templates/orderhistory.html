{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Order History | ShopNow</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 min-h-screen">

<!-- ================= NAVBAR ================= -->
<header>
  <div
    id="navbar"
    class="flex items-center justify-between px-8 py-4
           bg-blue-600 text-white
           shadow-md hover:shadow-xl
           transition-shadow duration-300"
  >
    <!-- Logo -->
    <div
      class="text-2xl font-bold flex items-center gap-2
             transition-transform duration-300 hover:scale-105"
    >
      ğŸ›’ <span>ShopNow</span>
    </div>

    <!-- Menu -->
    <ul class="flex gap-8 font-medium items-center">

      <li>
        <a href="/" class="hover:text-gray-200">Home</a>
      </li>

      {% for item in categories %}
      <li>
        <a
          href="{% url 'storeproductscategory' item.name %}"
          class="hover:text-gray-200"
        >
          {{ item.name }}
        </a>
      </li>
      {% endfor %}

      {% if username %}
        <li class="font-medium">Hello, {{ username }}</li>

        <li class="px-4 py-1 rounded bg-white text-blue-600 shadow hover:shadow-lg transition">
          <a href="{% url 'displaycart' %}">ğŸ›’</a>
        </li>

        <li class="px-4 py-1 rounded bg-white text-blue-600 shadow hover:shadow-lg transition">
          <a href="{% url 'orderhistory' %}">ğŸ“ƒ Orders</a>
        </li>

        <li class="px-4 py-1 rounded bg-white text-blue-600 shadow hover:shadow-lg transition">
          <a href="{% url 'storelogout' %}">Logout</a>
        </li>

      {% else %}
        <li class="px-4 py-1 rounded bg-white text-blue-600 shadow hover:shadow-lg transition">
          <a href="{% url 'storelogin' %}">Login</a>
        </li>
      {% endif %}

    </ul>
  </div>
</header>

<!-- ================= HEADER ================= -->
<section class="bg-blue-600 text-white py-10 shadow">
  <div class="max-w-6xl mx-auto px-6 text-center">
    <h1 class="text-3xl md:text-4xl font-bold">ğŸ“¦ Your Orders</h1>
    <p class="text-blue-100 mt-2">Track and manage your purchases</p>
  </div>
</section>

<!-- ================= ORDERS ================= -->
<main class="max-w-6xl mx-auto px-6 py-10 space-y-6">

{% if orders %}
{% for order in orders %}
<div
  class="bg-white rounded-2xl shadow-md
         hover:shadow-xl hover:-translate-y-1
         transition-all duration-300
         flex flex-col md:flex-row gap-6 p-6"
>

  <!-- Image -->
  <div class="w-32 h-32 shrink-0 overflow-hidden rounded-xl border">
    <img
      src="{{ order.product.image.url }}"
      alt="{{ order.product.name }}"
      class="w-full h-full object-cover transition-transform duration-500 hover:scale-110"
    />
  </div>

  <!-- Details -->
  <div class="flex-1">
    <h2 class="text-lg font-semibold text-gray-800 mb-1">
      {{ order.product.name }}
    </h2>

    <p class="text-sm text-gray-500 mb-3">
      {{ order.product.category }}
    </p>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-y-2 text-sm text-gray-600">
      <p><span class="font-medium">Order ID:</span> #{{ order.id }}</p>
      <p><span class="font-medium">ğŸ—“ï¸Date:</span> {{ order.orderdate }}</p>

      <p>
        <span class="font-medium">Status:</span>
        <span
          class="px-2 py-0.5 rounded-full text-xs font-semibold
          {% if order.orderstatus == 'Delivered' %}
            bg-green-100 text-green-700
          {% elif order.orderstatus == 'Cancelled' %}
            bg-red-100 text-red-700
          {% else %}
            bg-yellow-100 text-yellow-700
          {% endif %}
        ">
          {{ order.orderstatus }}
        </span>
      </p>

      <p><span class="font-medium">Payment:</span> {{ order.paymentmethod }}</p>

      <p class="sm:col-span-2">
        <span class="font-medium">Address:</span> {{ order.address }}
      </p>
    </div>

    <p class="mt-4 text-xl font-bold text-blue-600">
      â‚¹ {{ order.product.price }}
    </p>
  </div>

  <!-- Action -->
  <div class="flex items-center">
    <a
      href="{% url 'cancelorder' order.id %}"
      class="px-5 py-2 rounded-lg
             bg-red-500 text-white text-sm font-medium
             hover:bg-red-600 transition"
    >
      âŒ Cancel
    </a>
  </div>

</div>
{% endfor %}

{% else %}
<!-- EMPTY STATE -->
<div class="bg-white rounded-2xl shadow-md p-12 text-center">
  <p class="text-4xl mb-4">ğŸ›’</p>
  <h2 class="text-xl font-semibold text-gray-700 mb-2">
    No Orders Found 
  </h2>
  <p class="text-gray-500 mb-6">
    You havenâ€™t placed any orders yet.
  </p>
  <a
    href="/"
    class="inline-block px-6 py-3 rounded-xl
           bg-blue-600 text-white font-semibold
           hover:bg-blue-700 transition"
  >
    Start Shopping
  </a>
</div>
{% endif %}

</main>

</body>
</html>















